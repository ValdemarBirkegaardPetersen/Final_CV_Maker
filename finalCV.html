<!-- TO STEFFAN -->

<!-- Jeg tænker vi kan bruge denne .html side til at vise det final CV render-->
<!-- Så jeg tænker siden skal indeholde et preview og en download button? Tjek vores figma eventuelt-->

<!-- TO STEFFAN -->


<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Render</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="Styles/opret1.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="Libraries/jquery.storage.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
</head>

<style>
    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 10px;
        border-radius: 5px;
        background: linear-gradient(to right, rgba(255,0,0,1), rgba(255,255,0,1), rgba(0,255,0,1), rgba(0,255,255,1), rgba(0,0,255,1), rgba(255,0,255,1), rgba(255,0,0,1));
        outline: none;
        opacity: 0.9;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }

    .slider::-webkit-slider-thumb {
    -webkit-appearance: none; /* Override default look */
    appearance: none;
    width: 10px; /* Set a specific slider handle width */
    height: 20px; /* Slider handle height */
    background: rgb(66, 66, 66); /* Green background */
    border: 3px solid rgb(66, 66, 66);
    
    cursor: pointer; /* Cursor on hover */
    }

    .container {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    }

    .panel{
        height: 200;     
        background-color: rgb(255, 255, 255);
        max-width: 34rem;
        min-width: 30rem;
        display: flex;
        flex-direction: column;
        padding: 4rem 3rem;
        border-radius: 0.5rem;
        box-shadow: 0.75rem 0.75rem 1.75rem 0 rgba(0, 0, 0, 0.25);
        margin: 10px;
    }

    img{
        width: 140px;
        height: 140px;
        padding: 10px;
    }
    #cvmain{ background: #ffffff; height: 521px; float: top; margin-top: 10px;margin-bottom: 20px;}
    #cvtop{background: #732626; height: 80px; text-align: bottom; display: flex; flex-direction: column;}
    #cvright{background: #ECDFDF; width: 140px; height: 441px; float: right;}
    #templatemaintitle{background:#00000000; color: #e2e2e2; height: 55px; font-size: xx-large; padding: 4px; padding-top: 20px;} 
    #templatetitle{background:#ffffff00; color: #e2e2e2; height: 25px; padding-left: 5px;}
    #lip{background:#ffffff4f; height: 5px; }
    #section{padding-right: 10px; padding-top: 5px; padding-left: 5px; background:#ffffff; color: #363636; font-size: x-small; margin: 0px; height: 116px; width: 244px;}
    .sectiontitle{background:#ffffff00; height: 20px;color: #732626;padding-top: 5px;padding-left: 5px;font-weight: bolder; font-size: small;}
    .bottomlip{background: #732626; height: 1px; margin-left: 5px; width: 230px;}
    .bottomlip2{background: #732626; height: 1px; margin-left: 5px; width: 126px; margin-bottom: 10px;}
    .infobox{background: #2113df00; color: #363636;width: 140px; height: 15px;margin-left: 10px; font-size: 11px; font-weight: bold;}
    .infotext{background: #13df2400; color: #363636; width: 140px; height: 20px;margin-left: 10px; font-size: 10px;}

</style>

<body>

    <div class="container">
        <div class="panel">
            <div class="panel-header">
                <h1 class="panel-header-title" id="colorTitle">Vælg Farve</h1>
                <input type="range" id="rangeHue" min="0" max="360" value="0" class="slider" >
            </div>

            <div id="cvmain">
                <div id="cvtop">
                    <div id="templatemaintitle">Name</div>
                    <div id="templatetitle">Short title</div>
                <!--    <div id="lip"></div>        -->
                </div>
                
                <div id="cvright">
                    <div class="image-container">
                        <img src="insert"  alt="Red dot" id="base64image" class="base64image">

                    </div>
                    <div class="sectiontitle" id="sectiontitle4">Personal Info</div>
                    <div class="bottomlip2" id="bottomlip4"></div>
                    <div class="infobox">Address</div>
                    <div class="infotext">N/A</div>
                    <div class="infobox">Phone</div>
                    <div class="infotext">12 34 56 78</div>
                    <div class="infobox">E-Mail</div>
                    <div class="infotext">Name@template.com</div>
                    <div class="infobox">Age</div>
                    <div class="infotext">N/A</div>
                    <div class="infobox">LinkedIn</div>
                    <div class="infotext">LinkedIn.com/LINK</div>


                </div>
                <div>
                    <div class="sectiontitle" id="sectiontitle1">Section</div>
                    <div class="bottomlip" id="bottomlip1"></div>
                    <div id="section">
                        
                        ◆ Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        <br>
                        ◆ Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit.
                        <br>
                        ◆ Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.
                    </div>
                </div>
                <div>
                    <div class="sectiontitle" id="sectiontitle2">Section</div>
                    <div class="bottomlip" id="bottomlip2"></div>
                    <div id="section">
                        
                        ◆ Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        <br>
                        ◆ Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit.
                        <br>
                        ◆ Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.
                    </div>
                </div>
                <div>
                    <div class="sectiontitle" id="sectiontitle3">Section</div>
                    <div class="bottomlip" id="bottomlip3"></div>
                    <div id="section">
                        
                        ◆ Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                        <br>
                        ◆ Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit.
                        <br>
                        ◆ Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.
                    </div>
                </div>
            </div>
    
            <div class="input">
                <!-- <a class="input-submit" href="upload.html" class="button" onclick ="myFunction()">Videre</a> -->
                <button class="input-submit" onclick="demoFromHTML()">Download PDF</button>
                <!--<a href="javascript:genPDF()">Download PDF</a>-->
            </div>
        </div>
    </div> 



</body>

<script>
    // opret1.html
    var navn = $.sessionStorage('navn');
    var mail = $.sessionStorage('mail');
    var phone = $.sessionStorage('phone');
    var adress = $.sessionStorage('adress');
    var postal = $.sessionStorage('postal');
    var by = $.sessionStorage('by');
    var alder =  $.sessionStorage('alder');

    // opret2.html
    var omdig = $.sessionStorage('omdig');
    //var omdig = 'Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit. Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.';
    var sprog = $.sessionStorage('sprog');
    //var sprog = 'Dansk, Engelsk, Tysk';
    if(sprog != null) { var sprog = sprog.trim().split(/,\s*/); }
    var skills = $.sessionStorage('skills');
    //var skills = 'Photoshop, Premiere Pro, Excell, 3DS Max 2022';
    //var skills = null;
    if(skills != null){skills = skills.trim().split(/,\s*/);} 
    var certs = $.sessionStorage('certs'); 
    //var certs = 'Certified Business Relationshop Manager (CBRM), NAND Benifits Account Manager Certification (RAMC)'; 
    if(certs != null){certs = certs.trim().split(/,\s*/);}

    // opret3.html
    //var udd_navn1 = 'test';
    

    
    var eduName1 = $.sessionStorage('udd_navn1');
    var eduLoc1 = $.sessionStorage('sted_navn1');

    var eduName2 = $.sessionStorage('udd_navn2');
    var eduLoc2 = $.sessionStorage('sted_navn2');
    
    var eduName3 = $.sessionStorage('udd_navn3');
    var eduLoc3 = $.sessionStorage('sted_navn3');

    /*
    var eduStartMonth1  = $.sessionStorage('s1');
    var eduStart1 = $.sessionStorage('s2');
    var eduEndMonth1 = $.sessionStorage('s3');
    var eduEnd1 = $.sessionStorage('s4');

    var eduName2 = $.sessionStorage('udd_navn2');
    var eduLoc2 = $.sessionStorage('sted_navn2');


    var eduStartMonth2  = $.sessionStorage('d1');
    var eduStart2 = $.sessionStorage('d2');
    var eduEndMonth2 = $.sessionStorage('d3');
    var eduEnd2 = $.sessionStorage('d4');

    var eduName3 = $.sessionStorage('udd_navn3');
    var eduLoc3 = $.sessionStorage('sted_navn3');


    var eduStartMonth3  = $.sessionStorage('g1');
    var eduStart3 = $.sessionStorage('g2');
    var eduEndMonth3 = $.sessionStorage('g3');
    var eduEnd3 = $.sessionStorage('g4');
    */
    


    var eduStartMonth1  = $.sessionStorage('s1');
    if(parseInt(eduStartMonth1) < 10) {
        eduStartMonth1 = "0" + eduStartMonth1
    }
    var eduStart1 = $.sessionStorage('s2');
    var eduEndMonth1 = $.sessionStorage('s3');
    if(parseInt(eduEndMonth1) < 10) {
        eduEndMonth1 = "0" + eduEndMonth1
    }
    var eduEnd1 = $.sessionStorage('s4');


    // ------------------------------------------------------------------------------------------------------------------------------------//

    var eduStartMonth2  = $.sessionStorage('d1');
    if(parseInt(eduStartMonth2) < 10) {
        eduStartMonth2 = "0" + eduStartMonth2
    }
    var eduStart2 = $.sessionStorage('d2');

    var eduEndMonth2 = $.sessionStorage('d3');
    if(parseInt(eduEndMonth2) < 10) {
        eduEndMonth2 = "0" + eduEndMonth2
    }
    var eduEnd2 = $.sessionStorage('d4');

    // ------------------------------------------------------------------------------------------------------------------------------------//

    var eduStartMonth3  = $.sessionStorage('g1');
    if(parseInt(eduStartMonth3) < 10)     {
        eduStartMonth3 = "0" + eduStartMonth3 
    }
    var eduStart3 = $.sessionStorage('g2');

    var eduEndMonth3 = $.sessionStorage('g3');
    if(parseInt(eduEndMonth3) < 10) {
        eduEndMonth3 = "0" + eduEndMonth3
    }
    var eduEnd3 = $.sessionStorage('g4');

        // ------------------------------------------------------------------------------------------------------------------------------------//
    // Jobs

    var workName1 = $.sessionStorage('job_navn1');
    var workName2 = $.sessionStorage('job_navn2');
    var workName3 = $.sessionStorage('job_navn3');
    
    var workLoc1 = $.sessionStorage('job_sted1');
    var workLoc2 = $.sessionStorage('job_sted2');
    var workLoc3 = $.sessionStorage('job_sted3');

    var workDesc1 = $.sessionStorage('job_desc1');
    var workDesc2 = $.sessionStorage('job_desc2');
    var workDesc3 = $.sessionStorage('job_desc3');



    var workStartMonth1  = $.sessionStorage('v1');
    if(parseInt(workStartMonth1) < 10) {
        workStartMonth1 = "0" + workStartMonth1
    }
    var workStart1 = $.sessionStorage('v2');
    var workEndMonth1 = $.sessionStorage('v3');
    if(parseInt(workEndMonth1) < 10) {
        workEndMonth1 = "0" + workEndMonth1
    }
    var workEnd1 = $.sessionStorage('v4');


    // ------------------------------------------------------------------------------------------------------------------------------------//

    var workStartMonth2  = $.sessionStorage('b1');
    if(parseInt(workStartMonth2) < 10) {
        workStartMonth2 = "0" + workStartMonth2
    }
    var workStart2 = $.sessionStorage('b2');

    var workEndMonth2 = $.sessionStorage('b3');
    if(parseInt(workEndMonth2) < 10) {
        workEndMonth2 = "0" + workEndMonth2
    }
    var workEnd2 = $.sessionStorage('b4');

    // ------------------------------------------------------------------------------------------------------------------------------------//

    var workStartMonth3  = $.sessionStorage('n1');
    if(parseInt(workStartMonth3) < 10)     {
        workStartMonth3 = "0" + workStartMonth3 
    }
    var workStart3 = $.sessionStorage('n2');

    var workEndMonth3 = $.sessionStorage('n3');
    if(parseInt(workEndMonth3) < 10) {
        workEndMonth3 = "0" + workStartMonth3
    }
    var workEnd3 = $.sessionStorage('n4');

    // ------------------------------------------------------------------------------------------------------------------------------------//
    


    //var workStart1 = 
    //var workStartMonth1 =
    //var workEnd1 = 
    //var workEndMonth1 = 
    //var workName1 =
    //var workLoc1 = 
    //var workDesc1 = 

    //var workStart2 =
    //var workStartMonth2 =
    //var workEnd2 =
    //var workEndMonth2 =
    //var workName2 = 
    //var workLoc2 = 
    //var workDesc2 = 

    //var workStart3 = 
    //var workStartMonth3 = 
    //var workEnd3 = 
    //var workEndMonth3 = 
    //var workName3 = 
    //var workLoc3 = 
    //var workDesc3 = 
        
        

    var rgbColor = hslToRgb(0, 0.5, 0.3);
    var rgbColor2 = hslToRgb(0, 0.25, 0.9);
    var rgbColor3 = hslToRgb(0, 0.9, 0.5);
    var croppedImgBase64 = $.sessionStorage('croppedImgBase64'); // Getting image from cache/storage
    $("#base64image").attr("src", croppedImgBase64); // Setting base64 as <img> source

    function myFunction() {
        //?
    }
    

    //function demoFromHTML(_navn, _mail, _phone, _adress, _postal, _by) {
    function demoFromHTML() {    
        var doc = new jsPDF(); 
        var docWidth = 210;     //width of the document in pixels
        var docHeight = 297;    //height of the document in pixels

        //draw background
        
        doc.setFillColor(240,240,240);
        doc.rect(0, 0, docWidth, docHeight, 'F') //rect(x, y, w, h, style)
        doc.setFontSize(12);
        doc.setTextColor(40,40,40);

        //Om mig

        /*
        var sectionHeight = 50;
        doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.setFontSize(16);
        doc.text(10,sectionHeight,'Om mig');
        sectionHeight += 3;
        doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.rect(10, sectionHeight, 120, 0.5, 'F')
        sectionHeight += 10;
        */

        var sectionHeight = 50;

        doc.setTextColor(40,40,40);
        doc.setFontSize(12);
        doc.setFontStyle('normal');
        var splitTitle = doc.splitTextToSize(omdig, 120);
        doc.text(10, sectionHeight, splitTitle);
        sectionHeight += 5+(5*splitTitle.length);

        //Uddannelser
        doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.setFontSize(16);
        doc.text(10,sectionHeight,'Uddannelser');
        sectionHeight += 3;
        doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.rect(10, sectionHeight, 120, 0.5, 'F')
        sectionHeight += 10;

        doc.setTextColor(40,40,40);
        doc.setFontSize(13);
        doc.setFontStyle('normal');
        //var splitTitle = doc.splitTextToSize('Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit. Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.', 125);
        //doc.text(10, sectionHeight, splitTitle);
        //sectionHeight += 5+(5*splitTitle.length);
        
        if(eduName1 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(eduStartMonth1 != null){
                doc.text(10, sectionHeight, eduStart1+'-'+eduStartMonth1+'-');
            }else{
                doc.text(10, sectionHeight, eduStart1+'-');
            }

            if(eduEndMonth1 != null){
                doc.text(10, sectionHeight+5, eduEnd1+'-'+eduEndMonth1);
            }else{
                doc.text(10, sectionHeight+5, eduEnd1);
            }

            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(eduName1+' - '+eduLoc1, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 8+(5*splitTitle.length);
        }
        
        if(eduName2 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(eduStartMonth2 != null){
                doc.text(10, sectionHeight, eduStart2+'-'+eduStartMonth2+'-');
            }else{
                doc.text(10, sectionHeight, eduStart2+'-');
            }

            if(eduEndMonth2 != null){
                doc.text(10, sectionHeight+5, eduEnd2+'-'+eduEndMonth2);
            }else{
                doc.text(10, sectionHeight+5, eduEnd2);
            }

            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(eduName2+' - '+eduLoc2, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 8+(5*splitTitle.length);
        }
        
        if(eduName3 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(eduStartMonth3 != null){
                doc.text(10, sectionHeight, eduStart3+'-'+eduStartMonth3+'-');
            }else{
                doc.text(10, sectionHeight, eduStart3+'-');
            }

            if(eduEndMonth3 != null){
                doc.text(10, sectionHeight+5, eduEnd3+'-'+eduEndMonth3);
            }else{
                doc.text(10, sectionHeight+5, eduEnd3);
            }

            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(eduName3+' - '+eduLoc3, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 8+(5*splitTitle.length);
        }

        sectionHeight += 2;

        //Erhvervserfaring
        doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.setFontSize(16);
        doc.text(10,sectionHeight,'Erhvervserfaring');
        sectionHeight += 3;
        doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.rect(10, sectionHeight, 120, 0.5, 'F')
        sectionHeight += 10;

        doc.setTextColor(40,40,40);
        doc.setFontSize(13);
        doc.setFontStyle('normal');

        //var splitTitle = doc.splitTextToSize('Lorem ipsum dolor sit amet - consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Vestibulum gravida - nulla sit amet odio porttitor, sed commodo sem vulputate. Sed eleifend mauris ac felis vulputate hendrerit. Phasellus gravida - finibus felis vitae sagittis. Nunc in velit vehicula orci rutrum interdum in ut dui. Mauris nec dolor mi.', 125);
        //doc.text(10, sectionHeight, splitTitle);
        //sectionHeight += 5+(5*splitTitle.length);

        if(workName1 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(workStartMonth1 != null){
                doc.text(10, sectionHeight, workStart1+'-'+workStartMonth1+'-');
            }else{
                doc.text(10, sectionHeight, workStart1+'-');
            }

            if(workEndMonth1 != null){
                doc.text(10, sectionHeight+5, workEnd1+'-'+workEndMonth1);
            }else{
                doc.text(10, sectionHeight+5, workEnd1);
            }

            //doc.text(10, sectionHeight, workStart1+'-');
            //doc.text(10, sectionHeight+5, workEnd1);
            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(workName1+' - '+workLoc1, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 1+(5*splitTitle.length);

            doc.setFontSize(11);
            var splitTitle = doc.splitTextToSize(workDesc1, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 4*splitTitle.length;
            sectionHeight += 5;
            doc.setFontSize(13);
        }

        if(workName2 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(workStartMonth2 != null){
                doc.text(10, sectionHeight, workStart2+'-'+workStartMonth2+'-');
            }else{
                doc.text(10, sectionHeight, workStart2+'-');
            }

            if(workEndMonth2 != null){
                doc.text(10, sectionHeight+5, workEnd2+'-'+workEndMonth2);
            }else{
                doc.text(10, sectionHeight+5, workEnd2);
            }

            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(workName2+' - '+workLoc2, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 1+(5*splitTitle.length);

            doc.setFontSize(11);
            var splitTitle = doc.splitTextToSize(workDesc2, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 4*splitTitle.length;
            sectionHeight += 5;
            doc.setFontSize(13);
        }

        if(workName3 != null){
            doc.setFontSize(11);
            doc.setFontStyle('bold');

            if(workStartMonth3 != null){
                doc.text(10, sectionHeight, workStart3+'-'+workStartMonth3+'-');
            }else{
                doc.text(10, sectionHeight, workStart3+'-');
            }

            if(workEndMonth3 != null){
                doc.text(10, sectionHeight+5, workEnd3+'-'+workEndMonth3);
            }else{
                doc.text(10, sectionHeight+5, workEnd3);
            }

            doc.setFontSize(13);
            doc.setFontStyle('normal');
            var splitTitle = doc.splitTextToSize(workName3+' - '+workLoc3, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 1+(5*splitTitle.length);

            doc.setFontSize(11);
            var splitTitle = doc.splitTextToSize(workDesc3, 100);
            doc.text(30, sectionHeight, splitTitle);
            sectionHeight += 4*splitTitle.length;
            sectionHeight += 5;
            doc.setFontSize(13);
        }

        sectionHeight += 2;

        //Færdigheder
        if(skills != ''){ //if certificates is not empty(null)
            doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
            doc.setFontSize(16);
            doc.text(10,sectionHeight,'Færdigheder');
            sectionHeight += 3;
            doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
            doc.rect(10, sectionHeight, 120, 0.5, 'F')
            sectionHeight += 10;

            doc.setTextColor(40,40,40);
            doc.setFontSize(12);
            doc.setFontStyle('normal');
            //var splitTitle = doc.splitTextToSize(skills, 120);
            //doc.text(10, sectionHeight, splitTitle);

            for(var i = 0; i < skills.length; i++) {
                doc.text(18, sectionHeight, skills[i]);
                doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
                doc.ellipse(13, sectionHeight-1.5, 1.5, 1.5, 'F')
                sectionHeight += 10;
            }

            //sectionHeight += 5+(5*splitTitle.length);
            sectionHeight += 5;
        }

        
        //Certifikater
        if(certs != '' ){ //if certificates is not empty(null)
            doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
            doc.setFontSize(16);
            doc.text(10,sectionHeight,'Certifikater');
            sectionHeight += 3;
            doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
            doc.rect(10, sectionHeight, 120, 0.5, 'F')
            sectionHeight += 10;

            doc.setTextColor(40,40,40);
            doc.setFontSize(12);
            doc.setFontStyle('normal');
            //var splitTitle = doc.splitTextToSize(certs, 120);

            
            for(var i = 0; i < certs.length; i++) {
                doc.text(18, sectionHeight, certs[i]);
                doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
                doc.ellipse(13, sectionHeight-1.5, 1.5, 1.5, 'F')
                sectionHeight += 10;
            }

            //doc.text(10, sectionHeight, splitTitle);
            //sectionHeight += 5+(5*splitTitle.length);
            sectionHeight += 5;
        }
        //draw right bracket
        doc.setFillColor(rgbColor2[0],rgbColor2[1],rgbColor2[2]);
        doc.rect(140, 0, 70, docHeight, 'F') //rect(x, y, w, h, style)

        doc.setTextColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.setFontSize(16);
        doc.setFontStyle('bold');
        doc.text(145,118,'Personlig Info');
        doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.rect(145, 120, 60, 0.5, 'F')
        //doc.line(145, 117, 205, 117, 'F')

        doc.setTextColor(40,40,40);
        doc.setFontSize(14);
        doc.setFontStyle('bold');
        doc.text(147,130,'Tlf.');
        doc.text(147,150,'E-Mail');
        doc.text(147,170,'Alder');
        doc.text(147,190,'Adresse');
        doc.text(147,210,'By');
        doc.text(147,230,'Sprog');
        doc.setFontSize(14);
        doc.setFontStyle('normal');
        doc.text(147,138, phone);
        doc.text(147,158, mail);
        doc.text(147,178, alder);
        doc.text(147,198, adress);
        doc.text(147,218, postal+' '+by);

        var infoHeight = 240;
        for(var i = 0; i < sprog.length; i++) {
                doc.text(155, infoHeight, sprog[i]);
                doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
                doc.ellipse(150, infoHeight-1.5, 1.5, 1.5, 'F')
                infoHeight += 10;
            }

        //var splitTitle = doc.splitTextToSize(sprog,60);
        //doc.text(147, 238, splitTitle);


        //add image - added image is commented out for debugging it is not loaded in the instance
        doc.setFillColor(rgbColor3[0],rgbColor3[1],rgbColor3[2]);
        doc.rect(145, 45, 60, 60, 'F') //black box where image should load
        doc.addImage(croppedImgBase64, 'PNG', 145, 45, 60, 60);

    

        //draw header

        doc.setFillColor(rgbColor[0],rgbColor[1],rgbColor[2]);
        doc.rect(0, 0, docWidth, 40, 'F')
        doc.setTextColor(255,255,255);
        doc.setFontSize(36);
        doc.text(5,25,navn);
        
        doc.setFontSize(22);
        var jobTitle = ' ';

        if(eduName3 != null){jobTitle = eduName3}
        if(eduName2 != null){jobTitle = eduName2}
        if(eduName1 != null){jobTitle = eduName1}

        if(workName3 != null){jobTitle = workName3}
        if(workName2 != null){jobTitle = workName2}
        if(workName1 != null){jobTitle = workName1}
        
        doc.text(5,35,jobTitle);


        //doc.setTextColor(185,185,185);
        doc.setTextColor(185,185,185);
        doc.setFontSize(12);    
        doc.text(docWidth-68,docHeight-8,'Made with CV Maker')
        doc.text(docWidth-68,docHeight-2,'By V. Birkegaard & S. Olsson')

        doc.save(navn+" CV.pdf"); //saves as pdf from the browser
    }   

    function changeColor(){   
        var hue = document.getElementById('rangeHue').value;
        var color = 'hsl(' + hue + ',70%,70%)';
        
        //document.body.style.backgroundColor = hslToRgb(document.getElementById('rangeHue').value/360, 70/100, 70/100);
        //console.log(document.getElementById('rangeHue').value/360, 70/100, 70/100);
        rgbColor = hslToRgb(hue/360, 0.5, 0.3);
        rgbColor2 = hslToRgb(hue/360, 0.25, 0.9);
        rgbColor3 = hslToRgb(hue/360, 0.9, 0.5);
        //console.log('red: ' + rgbColor[0]);
        //console.log('green: ' + rgbColor[1]);
        //console.log('blue: ' + rgbColor[2]);
        var newColor = 'rgb('+rgbColor[0]+','+rgbColor[1]+','+rgbColor[2]+')';
        var newColor2 = 'rgb('+rgbColor2[0]+','+rgbColor2[1]+','+rgbColor2[2]+')';
        //document.getElementById('colorTitle').style.backgroundColor = newColor;
        document.getElementById('cvtop').style.background = newColor;
        document.getElementById('bottomlip1').style.background = newColor;
        document.getElementById('bottomlip2').style.background = newColor;
        document.getElementById('bottomlip3').style.background = newColor;
        document.getElementById('bottomlip4').style.background = newColor;
        document.getElementById('cvright').style.background = newColor2;
        document.getElementById('sectiontitle1').style.color = newColor;
        document.getElementById('sectiontitle2').style.color = newColor;
        document.getElementById('sectiontitle3').style.color = newColor;
        document.getElementById('sectiontitle4').style.color = newColor;


    }

    function hslToRgb(h, s, l){
        var r, g, b;

        if(s == 0){
            r = g = b = l; // achromatic
        }else{
            var hue2rgb = function hue2rgb(p, q, t){
                if(t < 0) t += 1;
                if(t > 1) t -= 1;
                if(t < 1/6) return p + (q - p) * 6 * t;
                if(t < 1/2) return q;
                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            }

            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            var p = 2 * l - q;
            r = hue2rgb(p, q, h + 1/3);
            g = hue2rgb(p, q, h);
            b = hue2rgb(p, q, h - 1/3);
        }

        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
    }

    document.getElementById('rangeHue').addEventListener('input',changeColor);

    

    /*
    
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo2");
    var hue = document.getElementById("demo3");
    //hue = slider.value;
    output.innerHTML = slider.value;
    hue.innerHTML = slider.value;
    
    
    
    slider.oninput = function() {
      output.innerHTML = this.value;
      hue.innerHTML = this.value;
      var huecolor = hsv2rgb(slider.value, 100, 50);
      output.style.color = "#"+(slider.value).toString(16)+(slider.value).toString(16)+(slider.value).toString(16);

    }
    function hsv2rgb(h,s,v) 
      {                              
      let f= (n,k=(n+h/60)%6) => v - v*s*Math.max( Math.min(k,4-k,1), 0);     
      return [f(5),f(3),f(1)];       
      }
      */

</script>


</html>